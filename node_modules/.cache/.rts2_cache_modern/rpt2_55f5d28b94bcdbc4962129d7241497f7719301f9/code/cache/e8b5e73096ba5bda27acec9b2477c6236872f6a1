{"code":"export default () => {\r\n    const allHandlers = new Map();\r\n    const on = (type, handler) => {\r\n        let handlers = allHandlers.get(type);\r\n        if (handlers) {\r\n            handlers.push(handler);\r\n        }\r\n        else {\r\n            allHandlers.set(type, [handler]);\r\n        }\r\n    };\r\n    let eventHandler = {\r\n        on,\r\n        once: (type, handler) => {\r\n            on(`once:${type}`, (event) => {\r\n                handler(event);\r\n                allHandlers.set(`once:${type}`, []);\r\n            });\r\n        },\r\n        off: (type, handler) => {\r\n            let handlers = allHandlers.get(type);\r\n            if (handlers) {\r\n                if (handler) {\r\n                    handlers.splice(handlers.indexOf(handler) >>> 0, 1);\r\n                }\r\n                else {\r\n                    allHandlers.set(type, []);\r\n                }\r\n            }\r\n        },\r\n        emit: (type, evt) => {\r\n            let handlers = [...allHandlers.get(type), ...allHandlers.get('*'), ...allHandlers.get(`once:${type}`)];\r\n            if (handlers) {\r\n                handlers\r\n                    .slice()\r\n                    .map((handler) => {\r\n                    handler(evt);\r\n                });\r\n            }\r\n        }\r\n    };\r\n    return eventHandler;\r\n};\r\n//# sourceMappingURL=index.js.map","references":[],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/index.ts\"],\"names\":[],\"mappings\":\"AAMA,eAAe,GAA8C,EAAE;IAE3D,MAAM,WAAW,GAAG,IAAI,GAAG,EAAE,CAAC;IAE9B,MAAM,EAAE,GAAG,CAAC,IAAe,EAAE,OAAsC,EAAE,EAAE;QACnE,IAAI,QAAQ,GAAoC,WAAY,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACvE,IAAI,QAAQ,EAAE;YACV,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SAC1B;aAAM;YACH,WAAY,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,OAAO,CAAsC,CAAC,CAAA;SACzE;IACL,CAAC,CAAA;IAED,IAAI,YAAY,GAAG;QACf,EAAE;QACF,IAAI,EAAE,CAAC,IAAe,EAAE,OAAsC,EAAE,EAAE;YAC9D,EAAE,CAAC,QAAQ,IAAI,EAAE,EAAE,CAAC,KAA2B,EAAE,EAAE;gBAC/C,OAAO,CAAC,KAAK,CAAC,CAAC;gBACf,WAAY,CAAC,GAAG,CAAC,QAAQ,IAAI,EAAE,EAAE,EAAE,CAAC,CAAC;YACzC,CAAC,CAAC,CAAC;QACP,CAAC;QACD,GAAG,EAAE,CAAC,IAAe,EAAE,OAAsB,EAAE,EAAE;YAC7C,IAAI,QAAQ,GAAoC,WAAY,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YACvE,IAAI,QAAQ,EAAE;gBACV,IAAI,OAAO,EAAE;oBACT,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;iBACvD;qBAAM;oBACH,WAAY,CAAC,GAAG,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;iBAC9B;aACJ;QACL,CAAC;QACD,IAAI,EAAE,CAAC,IAAe,EAAE,GAAuB,EAAE,EAAE;YAC/C,IAAI,QAAQ,GAAG,CAAC,GAAG,WAAY,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,WAAY,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,GAAG,WAAY,CAAC,GAAG,CAAC,QAAQ,IAAI,EAAE,CAAC,CAAC,CAAA;YACzG,IAAI,QAAQ,EAAE;gBACT,QAA8C;qBAC1C,KAAK,EAAE;qBACP,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE;oBACb,OAAO,CAAC,GAAI,CAAC,CAAC;gBAClB,CAAC,CAAC,CAAA;aACT;QACL,CAAC;KACJ,CAAC;IAEF,OAAO,YAAY,CAAC;AACxB,CAAC,CAAA\"}","dts":{"name":"/Users/brayden/Documents/hive/dist/index.d.ts","writeByteOrderMark":false,"text":"declare type EventType = string;\r\ndeclare type Handler<T = unknown> = (event: T) => void;\r\ndeclare const _default: <Events extends Record<string, unknown>>() => {\r\n    on: (type: EventType, handler: Handler<Events[keyof Events]>) => void;\r\n    once: (type: EventType, handler: Handler<Events[keyof Events]>) => void;\r\n    off: (type: EventType, handler?: Handler<Events[keyof Events]> | undefined) => void;\r\n    emit: (type: EventType, evt?: Events[string] | undefined) => void;\r\n};\r\nexport default _default;\r\n"}}
