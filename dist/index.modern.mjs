class e{constructor(e=new Map){this.listeners=void 0,this.listeners=e}on(e,s){let t=this.listeners.get(e);t?t.push(s):this.listeners.set(e,[s])}once(e,s){this.on(`once:${e}`,(...t)=>{s(t),this.listeners.set(`once:${e}`,[])})}off(e,s){let t=this.listeners.get(e);t&&(s?t.splice(t.indexOf(s)>>>0,1):this.listeners.set(e,[]))}emit(e,...s){let t=[...this.listeners.get(e),...this.listeners.get("*"),...this.listeners.get(`once:${e}`)];t&&t.slice().map(e=>{e(...s)})}}export{e as default};
